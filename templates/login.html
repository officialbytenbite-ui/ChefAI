<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ChefAI | Login</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}

body{
    min-height:100vh;
    background:url('chefbg4.jpg') no-repeat center/cover;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
}

.box{
    width:380px;
    padding:35px;
    background:rgba(229,231,235,0.85);
    backdrop-filter:blur(10px);
    border-radius:15px;
    box-shadow:0 10px 30px rgba(0,0,0,0.2);
    animation:fadeIn .8s ease-in-out;
}

@keyframes fadeIn{
    from{opacity:0;transform:translateY(20px)}
    to{opacity:1;transform:translateY(0)}
}

.brand{text-align:center;font-weight:600;margin-bottom:10px}
h2{text-align:center;margin-bottom:20px}

input{
    width:100%;
    padding:12px;
    margin:8px 0;
    border-radius:8px;
    border:1px solid #CBD5E1;
}

button{
    width:100%;
    padding:12px;
    margin-top:15px;
    background:#2563EB;
    color:white;
    border:none;
    border-radius:8px;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
}

button:hover{background:#1D4ED8}

.switch{
    text-align:center;
    margin-top:18px;
    font-size:14px;
}

.switch a{
    color:#2563EB;
    text-decoration:underline;
}

.msg{text-align:center;margin-top:12px}
</style>
</head>
<body>

<div class="box">
    <div class="brand">üç≥ ChefAI</div>
    <h2>Login</h2>

    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">

    <button onclick="login()">Login</button>

    <div class="msg" id="message"></div>

    <div class="switch">
        Don‚Äôt have an account? <a href="signup.html">Sign Up</a>
    </div>
</div>

<script>
async function login(){
    const msg = document.getElementById("message");
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    if(!username || !password){
        msg.style.color = "red";
        msg.innerText = "All fields required!";
        return;
    }

    try{
        const res = await fetch("http://127.0.0.1:5000/login", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ username, password })
        });

        const data = await res.json();

        if(res.status === 200){
            msg.style.color = "#1F2933";
            msg.innerText = "Login Successful!";
            setTimeout(()=>window.location.href="home.html",1000);
        } else {
            msg.style.color = "red";
            msg.innerText = data.message;
        }
    } catch(err){
        msg.style.color = "red";
        msg.innerText = "Server error!";
    }
}
</script>


</body>
</html>
